<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> 15 AWS Configure Command Examples to Manage Multiple Profiles for CLI | Jesse Lima</title>
  <link rel = 'canonical' href = 'https://jaglima.github.io/posts/2023-01-03-aws_configure/'>
  <meta name="description" content="This is my personal blog. Here I write about tech, science, IA and other related stuff">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="15 AWS Configure Command Examples to Manage Multiple Profiles for CLI" />
<meta property="og:description" content="To use AWS CLI, you need to first make sure your AWS access key credentials are configured properly.
Once you have your AWS access_key_id and secret_access_key, you can either manually add them to the credentials file, or use aws configure command to set it up on your local machine.
This tutorials explains all the options available in aws configure command along with how to manage multiple profiles:
First Time Configuring AWS Credentials – Default Profile ~/." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jaglima.github.io/posts/2023-01-03-aws_configure/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-03T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-01-03T00:00:00+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="15 AWS Configure Command Examples to Manage Multiple Profiles for CLI"/>
<meta name="twitter:description" content="To use AWS CLI, you need to first make sure your AWS access key credentials are configured properly.
Once you have your AWS access_key_id and secret_access_key, you can either manually add them to the credentials file, or use aws configure command to set it up on your local machine.
This tutorials explains all the options available in aws configure command along with how to manage multiple profiles:
First Time Configuring AWS Credentials – Default Profile ~/."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://jaglima.github.io/css/styles.4c2b9aa1d874d6766f554b2d404e8fd62ab4761f51ee9b3f358d12e81e7fa43a1b4378db995bc1926bbe5ed98c060be5e7bd4f2470504cf94f22b4b3a74e62b6.css" integrity="sha512-TCuaodh01nZvVUstQE6P1iq0dh9R7ps/NY0S6B5/pDobQ3jbmVvBkmu&#43;XtmMBgvl571PJHBQTPlPIrSzp05itg=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://jaglima.github.io/images/favicon.ico" />

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Archives</a></li>
         
        <li><a href="/about">About me</a></li>
         
        <li><a href="/projects">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://jaglima.github.io/posts/2021-11-16-thinking_in_bets_three/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://jaglima.github.io/posts/2023-01-10-s3_cli/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&text=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&title=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&is_video=false&description=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI&body=Check out this article: https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&title=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&title=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&name=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI&description=To%20use%20AWS%20CLI%2c%20you%20need%20to%20first%20make%20sure%20your%20AWS%20access%20key%20credentials%20are%20configured%20properly.%0aOnce%20you%20have%20your%20AWS%20access_key_id%20and%20secret_access_key%2c%20you%20can%20either%20manually%20add%20them%20to%20the%20credentials%20file%2c%20or%20use%20aws%20configure%20command%20to%20set%20it%20up%20on%20your%20local%20machine.%0aThis%20tutorials%20explains%20all%20the%20options%20available%20in%20aws%20configure%20command%20along%20with%20how%20to%20manage%20multiple%20profiles%3a%0aFirst%20Time%20Configuring%20AWS%20Credentials%20%e2%80%93%20Default%20Profile%20~%2f." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&t=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents"></nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        15 AWS Configure Command Examples to Manage Multiple Profiles for CLI
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2023-01-03 00:00:00 &#43;0000 UTC" itemprop="datePublished">2023-01-03</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          3 minute read
        </div>
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/aws" rel="tag">AWS</a>
            
             ,  
            <a class="tag-link" href="/tags/cli" rel="tag">cli</a>
            
             ,  
            <a class="tag-link" href="/tags/config" rel="tag">config</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <p>To use AWS CLI, you need to first make sure your AWS access key credentials are configured properly.</p>
<p>Once you have your AWS access_key_id and secret_access_key, you can either manually add them to the credentials file, or use aws configure command to set it up on your local machine.</p>
<p>This tutorials explains all the options available in aws configure command along with how to manage multiple profiles:</p>
<p>First Time Configuring AWS Credentials – Default Profile
~/.aws Directory – Config and credentials File for Default Profile
Edit Default Profile Credentials – Connect to Different AWS Account
Create Multiple AWS Profiles – Dev and Prod
~/.aws Directory – Config and credentials File for Multiple Profiles (Dev and Prod)
Switching Between Different AWS Profiles using –profile Option
Switching Between Different AWS Profiles using AWS_PROFILE Env Variable
View Profile Information using list Option
Change Default Config and Credentials FileName and Location
View a Specific Profile Parameter Value using get Option
Set a Specific Profile Parameter Value using set Option
Add New Model using add-model Option</p>
<ol>
<li>First Time Configuring AWS Credentials – Default Profile
When you execute aws configure command without any argument, you’ll be configuring aws credentials as your default profile.</li>
</ol>
<p>$ aws configure
AWS Access Key ID [None]: AAABBBCCCDDDEEEFFFGG
AWS Secret Access Key [None]: aaabbbcccdddeeefffggghhhiiijjjkkklllmmmn
Default region name [None]: us-east-1
Default output format [None]: text
In the above:</p>
<p>[None] – This indicates that you don’t have any existing access-key-id/secret-access-key setup on your system for default profile, and will prompt you for new values.
Region Name – This is optional. If you leave this empty, you should specify region in all your AWS CLI commands using –region parameter, else you’ll get an error message.
Output – This is optional. If you leave this empty, the output of all AWS CLI will be in json format. Available output options are: json, text, table</p>
<p>Create Multiple AWS Profiles – Dev and Prod
When you are connecting to multiple AWS account just using the default profile, you’ve to keep changing the values of access_key_id and secret_access_key, which is not practical.</p>
<p>In that case, you can create multiple profiles.</p>
<p>Let us say you need to use AWS CLI commands to access your AWS-dev account and AWS-prod account. In this case, create a dev profile and a prod profile as explained below.</p>
<p>First, create dev profile as shown below. Use access_key_id and secret_access_key values of your AWS-dev account:</p>
<p>$ aws configure &ndash;profile dev
AWS Access Key ID [None]: DEVBBBCCCDDDEEEFFDEV
AWS Secret Access Key [None]: devbbbcccdddeeefffggghhhiiijjjkkklllmdev
Default region name [None]: us-east-1
Default output format [None]:
Next, create prod profile as shown below. Use access_key_id and secret_access_key values of your AWS-prod account:</p>
<p>$ aws configure &ndash;profile prod
AWS Access Key ID [None]: PRODBBCCCDDDEEEFPROD
AWS Secret Access Key [None]: prodbbcccdddeeefffggghhhiiijjjkkklllprod
Default region name [None]: us-west-2
Default output format [None]:</p>
<ol start="6">
<li>Switching Between Different AWS Profile using –profile Option
By default, AWS CLI will use credentials from default profile. For example, the following command will list all the EBS volumes using your default profile credentials.</li>
</ol>
<p>aws ec2 describe-volumes
If you want to connect to a different AWS account. For example to connect to AWS-dev account, use the dev profile as shown below:</p>
<p>aws ec2 describe-volumes &ndash;profile dev
The following will connect to prod profile:</p>
<p>aws ec2 describe-volumes &ndash;profile prod
Please note that the following commands are exactly the same. Both will use the default profile:</p>
<p>aws ec2 describe-volumes</p>
<p>aws ec2 describe-volumes &ndash;profile default</p>
<ol start="7">
<li>Switching Between Different AWS Profiles using AWS_PROFILE Env Variable
Specifying profile option in all your CLI can be bit cumbersome. To avoid this, you can set your profile using AWS_PROFILE environment variable.</li>
</ol>
<p>First, set your AWS_PROFILE to connect to AWS-dev account.</p>
<p>export AWS_PROFILE=dev
From now on, any AWS CLI commands that you execute will connect to the AWS-dev account. You don’t need to specify –profile option anymore.</p>
<p>The following commands will use dev profile credentials (not the default credentials), as we’ve set the AWS_PROFILE to dev.</p>
<p>View Profile Information using list Option
The easy way to view all the profiles that you’ve configured on your system is to view the content of config and credentials files.</p>
<p>cat ~/.aws/config</p>
<p>cat ~/.aws/credentials
The list option in the aws configure command will display the information about the current profile as shown below.</p>

    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Archives</a></li>
         
          <li><a href="/about">About me</a></li>
         
          <li><a href="/projects">Projects</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents"></nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&text=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&title=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&is_video=false&description=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI&body=Check out this article: https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&title=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&title=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&name=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI&description=To%20use%20AWS%20CLI%2c%20you%20need%20to%20first%20make%20sure%20your%20AWS%20access%20key%20credentials%20are%20configured%20properly.%0aOnce%20you%20have%20your%20AWS%20access_key_id%20and%20secret_access_key%2c%20you%20can%20either%20manually%20add%20them%20to%20the%20credentials%20file%2c%20or%20use%20aws%20configure%20command%20to%20set%20it%20up%20on%20your%20local%20machine.%0aThis%20tutorials%20explains%20all%20the%20options%20available%20in%20aws%20configure%20command%20along%20with%20how%20to%20manage%20multiple%20profiles%3a%0aFirst%20Time%20Configuring%20AWS%20Credentials%20%e2%80%93%20Default%20Profile%20~%2f." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fjaglima.github.io%2fposts%2f2023-01-03-aws_configure%2f&t=15%20AWS%20Configure%20Command%20Examples%20to%20Manage%20Multiple%20Profiles%20for%20CLI" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2023  Jesse Lima 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Archives</a></li>
         
        <li><a href="/about">About me</a></li>
         
        <li><a href="/projects">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>




</html>
